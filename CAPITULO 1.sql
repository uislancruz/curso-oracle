CREATE TABLE TALUNO
(
    COD_ALUNO INTEGER NOT NULL,
    NOME VARCHAR(30),
    CIDADE VARCHAR2(30),
    CEP VARCHAR(10),
    PRIMARY KEY (COD_ALUNO)

);

SELECT * FROM TALUNO;

INSERT INTO TALUNO(COD_ALUNO,NOME,CIDADE,CEP)
VALUES (1,'UISLAN','NOVO HAMBURGO','930000000');

INSERT INTO TALUNO(COD_ALUNO,NOME,CIDADE,CEP)
VALUES (2,'PAULO','NOVO HAMBURGO','930000000');

INSERT INTO TALUNO(COD_ALUNO,NOME,CIDADE,CEP)
VALUES (3,'MIMA','PORTO SEGURO','930000000');

CREATE TABLE TCURSO
(
  COD_CURSO INTEGER NOT NULL PRIMARY KEY,
  NOME VARCHAR2(30),
  VALOR NUMBER(8,2),
  CARGA_HORARIA INTEGER
);

SELECT * FROM TCURSO;

INSERT INTO TCURSO VALUES(1,'ORACLE SQL E PL/SQL',500,25);
INSERT INTO TCURSO VALUES(2,'ORACLE DBA',499,25);
INSERT INTO TCURSO VALUES(3,'JAVA FUNDAMENTOS E OO',1500,100);
INSERT INTO TCURSO VALUES(4,'JAVASERVER FACES',1600,100);



CREATE TABLE TCONTRATO
(
  COD_CONTRATO INTEGER NOT NULL PRIMARY KEY,
  DATA DATE,
  COD_ALUNO INTEGER,
  TOTAL NUMBER(8,2),
  DESCONTO NUMBER(5,2)
);

SELECT * FROM TCONTRATO;

INSERT INTO TCONTRATO VALUES(1, SYSDATE   ,1,500,10);
INSERT INTO TCONTRATO VALUES(2, SYSDATE   ,2,500,10);
INSERT INTO TCONTRATO VALUES(3, SYSDATE   ,3,1500,05);
INSERT INTO TCONTRATO VALUES(4, SYSDATE-5 ,2,1600,10);
INSERT INTO TCONTRATO VALUES(5, SYSDATE-4 ,5,800,10);
INSERT INTO TCONTRATO VALUES(6, SYSDATE-3 ,5,445,0);
INSERT INTO TCONTRATO VALUES(7, SYSDATE-2 ,5,445,20);


--INSERIR CONLUNA NA TABELA
ALTER TABLE TCONTRATO ADD COL_TESTE VARCHAR(50);

--EXCLUIR COLUNA
ALTER TABLE TCONTRATO DROP COLUMN COL_TESTE;

--ALTERAR NOME DAS COLUNAS
ALTER TABLE TALUNO RENAME COLUMN NOME TO NOME2;
ALTER TABLE TALUNO RENAME COLUMN NOME2 TO NOME;

--EXCLUIR TABELA
DROP TABLE TABELA;


--CRIANDO UMA SEQUENCIA DE CODIGO A PARTIR DO 4, PARA NÃO PRECISAR SEMPRE COLOCAR CODIGO
CREATE SEQUENCE SEQ_ALUNO START WITH 4;

INSERT INTO TALUNO(COD_ALUNO,NOME,CIDADE,CEP)
VALUES(SEQ_ALUNO.NEXTVAL, 'VALDO', 'CANOAS', '072603605');

INSERT INTO TALUNO VALUES(SEQ_ALUNO.NEXTVAL, 'DOMINGOS', 'ILHEUS', '072603605');

SELECT * FROM TALUNO;

--DATA/HORA ATUAL

SELECT SYSDATE FROM DUAL;

SELECT SEQ_ALUNO.CURRVAL FROM DUAL;


--PARA CONFIRMAR
COMMIT;

--PARA DESFAZER
ROLLBACK;

--EXCLUIR UM REGISTRO DA TABELA

SELECT * FROM TALUNO;

DELETE FROM TALUNO
WHERE COD_ALUNO = 5;

--FILTRAR POR DADOS

SELECT * FROM TALUNO WHERE NOME = 'VALDO';

DELETE FROM TALUNO WHERE NOME = 'VALDO';

COMMIT;

ROLLBACK;


CREATE TABLE TITEM
(
  COD_ITEM INTEGER NOT NULL PRIMARY KEY,
  COD_CURSO INTEGER,
  COD_CONTRATO INTEGER,
  VALOR NUMBER(8,2)
);

SELECT * FROM TITEM;

INSERT INTO TITEM VALUES(1, 1, 1, 500);
INSERT INTO TITEM VALUES(2, 1, 2, 500);
INSERT INTO TITEM VALUES(3, 3, 3, 1500);
INSERT INTO TITEM VALUES(4, 4, 4, 1600);
INSERT INTO TITEM VALUES(5, 1, 5, 500);
INSERT INTO TITEM VALUES(6, 1, 6, 500);
INSERT INTO TITEM VALUES(7, 2, 6, 500);
INSERT INTO TITEM VALUES(8, 3, 7, 500);

COMMIT;


SELECT * FROM TCONTRATO WHERE  COD_CONTRATO = 2 ;

UPDATE TCONTRATO SET
  DESCONTO = 18
WHERE COD_CONTRATO = 2;



UPDATE TCONTRATO SET
  DESCONTO = 20 ,
  DATA = SYSDATE-5   ,
  TOTAL = 750
WHERE COD_CONTRATO = 2;

SELECT * FROM TCONTRATO;



SELECT * FROM TALUNO;

UPDATE TALUNO SET
  CIDADE = 'GUARULHOS'
WHERE Upper(CIDADE) = 'NOVO HAMBURGO';

UPDATE TALUNO SET
  NOME = 'FRIDA'
WHERE COD_ALUNO = 5;

UPDATE TALUNO SET
  NOME = 'JOELMA'
WHERE COD_ALUNO = 3;


SELECT * FROM TCURSO;

UPDATE TCURSO SET
  VALOR = 499.99
WHERE COD_CURSO = 1;

--ALT + 3 EXIBE AS TABELAS CRIADAS

--PARA TRAZER APENAS AS COLUNAS QUE EU QUERO
SELECT NOME,VALOR FROM TCURSO;

--PUXANDO COLUNA E ALTERANDO PARA O NOME Q EU QUERO NAQUELE MOMENTO
--(LEMBRANDO Q O NOME DA COLUNA CONTINUA O MESMO, O Q MUDA É SÓ A VISUALIZAÇÃO(TIPO APELIDO))
-- o AS pode ou não ser colocado, colando fica mais interpretativo "" FORÇA

SELECT NOME AS "ALUNO PREFERENCIONAL" FROM TCURSO;
